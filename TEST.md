# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## –û–±–∑–æ—Ä —Ç–µ—Å—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ä–µ–≤—å—è–º–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

#### 1. `tree.test.js` - –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (30 —Ç–µ—Å—Ç–æ–≤)
- **–§—É–Ω–∫—Ü–∏—è tree**: –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–µ–π
- **–§—É–Ω–∫—Ü–∏—è tokenize**: –†–∞–∑–±–æ—Ä –≤—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ç–æ–∫–µ–Ω—ã  
- **–§—É–Ω–∫—Ü–∏—è parseTree**: –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞
- **–§—É–Ω–∫—Ü–∏—è renderTree**: –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–µ—Ä–µ–≤–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- **–§—É–Ω–∫—Ü–∏—è renderNode**: –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É–∑–ª–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Å—Ç—Ä–æ–∫–∏ –¥–æ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏

#### 2. `tree.edge-cases.test.js` - Edge cases –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (17 —Ç–µ—Å—Ç–æ–≤)
- –°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã  
- –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### 3. `tree-dom.test.js` - DOM —Ñ—É–Ω–∫—Ü–∏–∏ (4 —Ç–µ—Å—Ç–∞)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –ü–æ–∫–∞–∑ –∏ —Å–∫—Ä—ã—Ç–∏–µ –æ—à–∏–±–æ–∫

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏:
- –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤ –¥–µ—Ä–µ–≤–∞
- –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ –≤ –¥–µ—Ä–µ–≤—å—è  
- –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–µ—Ä–µ–≤—å–µ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Edge cases
- DOM –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (–º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)

#### üìä –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
1. **–ü—Ä–æ—Å—Ç—ã–µ –¥–µ—Ä–µ–≤—å—è**: `(A B C)`
2. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è**: `(A (B C) D)`  
3. **–°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: `(ROOT (BRANCH1 LEAF1 LEAF2) (BRANCH2 LEAF3))`
4. **–û—à–∏–±–∫–∏**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∫–æ–±–∫–∏, –ø—É—Å—Ç—ã–µ –¥–µ—Ä–µ–≤—å—è
5. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**: –ì–ª—É–±–æ–∫–∏–µ/—à–∏—Ä–æ–∫–∏–µ –¥–µ—Ä–µ–≤—å—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ
npm run test:run

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ —Ä–µ–∂–∏–º–µ watch
npm test

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm test -- --coverage
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**‚úÖ 51/51 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**

- –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã: 30/30 ‚úÖ
- Edge cases: 17/17 ‚úÖ  
- DOM —Ç–µ—Å—Ç—ã: 4/4 ‚úÖ

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞
```javascript
const node = tree('A')
expect(node.value).toBe('A')
expect(node.children).toEqual([])
```

#### –ü–∞—Ä—Å–∏–Ω–≥ –¥–µ—Ä–µ–≤–∞
```javascript
const result = parseTree('(A (B C) D)')
expect(result.value).toBe('A')
expect(result.children).toHaveLength(2)
```

#### –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–µ—Ä–µ–≤–∞  
```javascript
const rendered = renderTree(rootNode)
expect(rendered).toBe('A---+\n    B\n    C')
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
- **Vitest** - —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **jsdom** - —ç–º—É–ª—è—Ü–∏—è DOM –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ú–æ–∫–∏** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è DOM –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```javascript
// vitest.config.js
export default defineConfig({
  test: {
    environment: 'jsdom',
    globals: true
  }
})
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ—Å—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç:
- üîí **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üöÄ **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å**: 100% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏  
- üìù **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –¢–µ—Å—Ç—ã —Å–ª—É–∂–∞—Ç –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üêõ **–ö–∞—á–µ—Å—Ç–≤–æ**: –û—à–∏–±–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –¥–æ —Ä–µ–ª–∏–∑–∞